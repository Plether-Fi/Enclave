import Foundation

nonisolated enum Network: String, CaseIterable, Sendable {
    case arbitrumSepolia
    case arbitrumOne

    var chainId: UInt64 {
        switch self {
        case .arbitrumSepolia: 421614
        case .arbitrumOne: 42161
        }
    }

    var rpcURL: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://sepolia-rollup.arbitrum.io/rpc")!
        case .arbitrumOne:
            URL(string: "https://arb1.arbitrum.io/rpc")!
        }
    }

    var bundlerURL: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://public.stackup.sh/api/v1/node/arbitrum-sepolia")!
        case .arbitrumOne:
            URL(string: "https://public.stackup.sh/api/v1/node/arbitrum-one")!
        }
    }

    var blockExplorerAPI: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://api-sepolia.arbiscan.io/api")!
        case .arbitrumOne:
            URL(string: "https://api.arbiscan.io/api")!
        }
    }

    var usdcAddress: String {
        switch self {
        case .arbitrumSepolia: "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"
        case .arbitrumOne: "0xaf88d065e77c8cC2239327C5EDb3A432268e5831"
        }
    }

    var displayName: String {
        switch self {
        case .arbitrumSepolia: "Arbitrum Sepolia"
        case .arbitrumOne: "Arbitrum One"
        }
    }
}

nonisolated enum Config {
    static let entryPointAddress = "0x0000000071727De22E5E9d8BAf0edAc6f37da032"

    // Update after deploying EnclaveWalletFactory to Arbitrum Sepolia
    static let factoryAddress = "0x0000000000000000000000000000000000000000"

    static var activeNetwork: Network = .arbitrumSepolia

    // EnclaveWallet creation bytecode (from `forge inspect EnclaveWallet bytecode`)
    // Used for offline CREATE2 address computation
    // swiftlint:disable:next line_length
    static let walletCreationCode = "60e060405234801561000f575f5ffd5b506040516110fd3803806110fd8339818101604052810190610031919061011f565b8273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508160a081815250508060c0818152505050505061016f565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b5f6100bb826100a0565b9050919050565b6100cb816100b1565b81146100d5575f5ffd5b50565b5f815190506100e6816100c2565b92915050565b5f819050919050565b6100fe816100ec565b8114610108575f5ffd5b50565b5f81519050610119816100f5565b92915050565b5f5f5f606084860312156101365761013561007d565b5b5f610143868287016100d8565b93505060206101548682870161010b565b92505060406101658682870161010b565b9150509250925092565b60805160a05160c051610f566101a75f395f818161033a01526105a401525f8181610316015261058301525f61035f0152610f565ff3fe608060405260043610610073575f3560e01c8063b004eab91161004d578063b004eab91461010c578063b0d691fe14610136578063b61d27f614610160578063d087d288146101885761007a565b806319822f7c1461007e57806334fcd5be146100ba5780634edaff4e146100e25761007a565b3661007a57005b5f5ffd5b348015610089575f5ffd5b506100a4600480360381019061009f919061081e565b6101b2565b6040516100b19190610899565b60405180910390f35b3480156100c5575f5ffd5b506100e060048036038101906100db9190610913565b6101e4565b005b3480156100ed575f5ffd5b506100f6610314565b6040516101039190610899565b60405180910390f35b348015610117575f5ffd5b50610120610338565b60405161012d9190610899565b60405180910390f35b348015610141575f5ffd5b5061014a61035c565b60405161015791906109d8565b60405180910390f35b34801561016b575f5ffd5b5061018660048036038101906101819190610a81565b610383565b005b348015610193575f5ffd5b5061019c6103f2565b6040516101a99190610899565b60405180910390f35b5f6101bb610479565b6101c58484610503565b90506101d484602001356106a2565b6101dd826106a5565b9392505050565b6101ec610719565b5f8282905090505f5f90505b8181101561030e573684848381811061021457610213610af2565b5b90506020028101906102269190610b2b565b90505f61029b825f01602081019061023e9190610b52565b83602001358480604001906102539190610b7d565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f820116905080830192505050505050505a610723565b9050806102ff57600184036102b7576102b261073a565b6102fe565b826102c15f61074d565b6040517f5a1546750000000000000000000000000000000000000000000000000000000081526004016102f5929190610c4f565b60405180910390fd5b5b505080806001019150506101f8565b50505050565b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b61038b610719565b5f6103db858585858080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f820116905080830192505050505050505a610723565b9050806103eb576103ea61073a565b5b5050505050565b5f6103fb61035c565b73ffffffffffffffffffffffffffffffffffffffff166335567e1a305f6040518363ffffffff1660e01b8152600401610435929190610ce8565b602060405180830381865afa158015610450573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906104749190610d23565b905090565b61048161035c565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161433306104b961035c565b9091926104fe576040517ffe34a6d30000000000000000000000000000000000000000000000000000000081526004016104f593929190610d4e565b60405180910390fd5b505050565b5f6040838061010001906105179190610b7d565b905014610559576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161055090610ddd565b60405180910390fd5b5f5f8480610100019061056c9190610b7d565b8101906105799190610dfb565b915091505f8483837f00000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000006040516020016105d7959493929190610e48565b60405160208183030381529060405290505f5f61010073ffffffffffffffffffffffffffffffffffffffff16836040516106119190610ed3565b5f60405180830381855afa9150503d805f8114610649576040519150601f19603f3d011682016040523d82523d5f602084013e61064e565b606091505b50915091505f828015610662575060208251145b8015610681575060018280602001905181019061067f9190610d23565b145b90508061068f576001610691565b5f5b60ff16965050505050505092915050565b50565b5f8114610716575f3373ffffffffffffffffffffffffffffffffffffffff16826040516106d190610f0c565b5f6040518083038185875af1925050503d805f811461070b576040519150601f19603f3d011682016040523d82523d5f602084013e610710565b606091505b50509050505b50565b610721610479565b565b5f5f5f845160208601878987f19050949350505050565b61074b6107465f61074d565b610785565b565b60603d5f8311156107655782811115610764578290505b5b604051602082018101604052818152815f602083013e8092505050919050565b805160208201fd5b5f5ffd5b5f5ffd5b5f5ffd5b5f61012082840312156107af576107ae610795565b5b81905092915050565b5f819050919050565b6107ca816107b8565b81146107d4575f5ffd5b50565b5f813590506107e5816107c1565b92915050565b5f819050919050565b6107fd816107eb565b8114610807575f5ffd5b50565b5f81359050610818816107f4565b92915050565b5f5f5f606084860312156108355761083461078d565b5b5f84013567ffffffffffffffff81111561085257610851610791565b5b61085e86828701610799565b935050602061086f868287016107d7565b92505060406108808682870161080a565b9150509250925092565b610893816107eb565b82525050565b5f6020820190506108ac5f83018461088a565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f8401126108d3576108d26108b2565b5b8235905067ffffffffffffffff8111156108f0576108ef6108b6565b5b60208301915083602082028301111561090c5761090b6108ba565b5b9250929050565b5f5f602083850312156109295761092861078d565b5b5f83013567ffffffffffffffff81111561094657610945610791565b5b610952858286016108be565b92509250509250929050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f819050919050565b5f6109a061099b6109968461095e565b61097d565b61095e565b9050919050565b5f6109b182610986565b9050919050565b5f6109c2826109a7565b9050919050565b6109d2816109b8565b82525050565b5f6020820190506109eb5f8301846109c9565b92915050565b5f6109fb8261095e565b9050919050565b610a0b816109f1565b8114610a15575f5ffd5b50565b5f81359050610a2681610a02565b92915050565b5f5f83601f840112610a4157610a406108b2565b5b8235905067ffffffffffffffff811115610a5e57610a5d6108b6565b5b602083019150836001820283011115610a7a57610a796108ba565b5b9250929050565b5f5f5f5f60608587031215610a9957610a9861078d565b5b5f610aa687828801610a18565b9450506020610ab78782880161080a565b935050604085013567ffffffffffffffff811115610ad857610ad7610791565b5b610ae487828801610a2c565b925092505092959194509250565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f82356001606003833603038112610b4657610b45610b1f565b5b80830191505092915050565b5f60208284031215610b6757610b6661078d565b5b5f610b7484828501610a18565b91505092915050565b5f5f83356001602003843603038112610b9957610b98610b1f565b5b80840192508235915067ffffffffffffffff821115610bbb57610bba610b23565b5b602083019250600182023603831315610bd757610bd6610b27565b5b509250929050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f610c2182610bdf565b610c2b8185610be9565b9350610c3b818560208601610bf9565b610c4481610c07565b840191505092915050565b5f604082019050610c625f83018561088a565b8181036020830152610c748184610c17565b90509392505050565b610c86816109f1565b82525050565b5f819050919050565b5f77ffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610cd2610ccd610cc884610c8c565b61097d565b610c95565b9050919050565b610ce281610cb8565b82525050565b5f604082019050610cfb5f830185610c7d565b610d086020830184610cd9565b9392505050565b5f81519050610d1d816107f4565b92915050565b5f60208284031215610d3857610d3761078d565b5b5f610d4584828501610d0f565b91505092915050565b5f606082019050610d615f830186610c7d565b610d6e6020830185610c7d565b610d7b6040830184610c7d565b949350505050565b5f82825260208201905092915050565b7f496e76616c6964207369676e6174757265206c656e67746800000000000000005f82015250565b5f610dc7601883610d83565b9150610dd282610d93565b602082019050919050565b5f6020820190508181035f830152610df481610dbb565b9050919050565b5f5f60408385031215610e1157610e1061078d565b5b5f610e1e8582860161080a565b9250506020610e2f8582860161080a565b9150509250929050565b610e42816107b8565b82525050565b5f60a082019050610e5b5f830188610e39565b610e68602083018761088a565b610e75604083018661088a565b610e82606083018561088a565b610e8f608083018461088a565b9695505050505050565b5f81905092915050565b5f610ead82610bdf565b610eb78185610e99565b9350610ec7818560208601610bf9565b80840191505092915050565b5f610ede8284610ea3565b915081905092915050565b50565b5f610ef75f83610e99565b9150610f0282610ee9565b5f82019050919050565b5f610f1682610eec565b915081905091905056fea26469706673582212204177ea1fca4a46672173f5a514435587dc78158506c1a1213e037937c27b4ed564736f6c634300081c0033"
}
