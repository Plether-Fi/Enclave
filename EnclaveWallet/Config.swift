import Foundation

nonisolated enum Network: String, CaseIterable, Sendable {
    case arbitrumSepolia
    case arbitrumOne
    case anvil

    var chainId: UInt64 {
        switch self {
        case .arbitrumSepolia: 421614
        case .arbitrumOne, .anvil: 42161
        }
    }

    var rpcURL: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://arb-sepolia.g.alchemy.com/v2/\(Secrets.alchemyAPIKey)")!
        case .arbitrumOne:
            URL(string: "https://arb-mainnet.g.alchemy.com/v2/\(Secrets.alchemyAPIKey)")!
        case .anvil:
            URL(string: "http://127.0.0.1:8584")!
        }
    }

    var bundlerURL: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://arb-sepolia.g.alchemy.com/v2/\(Secrets.alchemyAPIKey)")!
        case .arbitrumOne:
            URL(string: "https://arb-mainnet.g.alchemy.com/v2/\(Secrets.alchemyAPIKey)")!
        case .anvil:
            URL(string: "http://127.0.0.1:3000")!
        }
    }

    var blockExplorerAPI: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://api-sepolia.arbiscan.io/api")!
        case .arbitrumOne, .anvil:
            URL(string: "https://api.arbiscan.io/api")!
        }
    }

    var usdcAddress: String {
        switch self {
        case .arbitrumSepolia: "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"
        case .arbitrumOne, .anvil: "0xaf88d065e77c8cC2239327C5EDb3A432268e5831"
        }
    }

    var displayName: String {
        switch self {
        case .arbitrumSepolia: "Arbitrum Sepolia"
        case .arbitrumOne: "Arbitrum One"
        case .anvil: "Anvil (Local)"
        }
    }

    var isLocal: Bool { self == .anvil }
}

nonisolated enum Config {
    static let entryPointAddress = "0x0000000071727De22E5E9d8BAf0edAc6f37da032"

    static let factoryAddress = "0x8F21285D61A401aca4DB69e042f991Ac3bAEe602"

    static let gasPolicyId = "ff3e2c3f-3d8e-4046-959e-06fb0324cf2c"

    static var activeNetwork: Network = .arbitrumSepolia

    // EnclaveWallet creation bytecode (from `forge inspect EnclaveWallet bytecode`)
    // Used for offline CREATE2 address computation
    // swiftlint:disable:next line_length
    // swiftlint:disable:next line_length
    static let walletCreationCode = "60e060405234801561000f575f5ffd5b50604051611b83380380611b838339818101604052810190610031919061011f565b8273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508160a081815250508060c0818152505050505061016f565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b5f6100bb826100a0565b9050919050565b6100cb816100b1565b81146100d5575f5ffd5b50565b5f815190506100e6816100c2565b92915050565b5f819050919050565b6100fe816100ec565b8114610108575f5ffd5b50565b5f81519050610119816100f5565b92915050565b5f5f5f606084860312156101365761013561007d565b5b5f610143868287016100d8565b93505060206101548682870161010b565b92505060406101658682870161010b565b9150509250925092565b60805160a05160c0516119dc6101a75f395f81816105a601526108cf01525f818161056201526108ae01525f6105cb01526119dc5ff3fe60806040526004361061009f575f3560e01c80639061a57f116100635780639061a57f1461019c578063b004eab9146101d8578063b0d691fe14610202578063b61d27f61461022c578063d087d28814610254578063f3f514151461027e576100a6565b80631626ba7e146100aa57806319822f7c146100e65780632803212f1461012257806334fcd5be1461014a5780634edaff4e14610172576100a6565b366100a657005b5f5ffd5b3480156100b5575f5ffd5b506100d060048036038101906100cb9190610e90565b6102ba565b6040516100dd9190610f27565b60405180910390f35b3480156100f1575f5ffd5b5061010c60048036038101906101079190610f96565b61034b565b6040516101199190611011565b60405180910390f35b34801561012d575f5ffd5b5061014860048036038101906101439190611084565b61037d565b005b348015610155575f5ffd5b50610170600480360381019061016b9190611117565b610430565b005b34801561017d575f5ffd5b50610186610560565b6040516101939190611011565b60405180910390f35b3480156101a7575f5ffd5b506101c260048036038101906101bd9190611084565b610584565b6040516101cf9190611011565b60405180910390f35b3480156101e3575f5ffd5b506101ec6105a4565b6040516101f99190611011565b60405180910390f35b34801561020d575f5ffd5b506102166105c8565b60405161022391906111bd565b60405180910390f35b348015610237575f5ffd5b50610252600480360381019061024d91906111d6565b6105ef565b005b34801561025f575f5ffd5b5061026861079c565b6040516102759190611011565b60405180910390f35b348015610289575f5ffd5b506102a4600480360381019061029f9190611247565b610823565b6040516102b19190611011565b60405180910390f35b5f60408383905014610301576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102f8906112cc565b60405180910390fd5b5f5f848481019061031291906112ea565b91509150610321868383610837565b1561033757631626ba7e60e01b92505050610344565b63ffffffff60e01b925050505b9392505050565b5f610354610a77565b61035e8484610b01565b905061036d8460200135610ba5565b61037682610ba8565b9392505050565b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146103eb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103e290611372565b60405180910390fd5b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055505050565b610438610c1c565b5f8282905090505f5f90505b8181101561055a57368484838181106104605761045f611390565b5b905060200281019061047291906113c9565b90505f6104e7825f01602081019061048a9190611247565b836020013584806040019061049f91906113f0565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f820116905080830192505050505050505a610c26565b90508061054b5760018403610503576104fe610c3d565b61054a565b8261050d5f610c50565b6040517f5a1546750000000000000000000000000000000000000000000000000000000081526004016105419291906114c2565b60405180910390fd5b5b50508080600101915050610444565b50505050565b7f000000000000000000000000000000000000000000000000000000000000000081565b6001602052815f5260405f20602052805f5260405f205f91509150505481565b7f000000000000000000000000000000000000000000000000000000000000000081565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b6105f7610a77565b5f83111561060a576106095f84610c88565b5b60048282905010610719575f82825f90600492610629939291906114f8565b906106349190611548565b905063a9059cbb60e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614801561066f575060448383905010155b156106a8575f8383602490604492610689939291906114f8565b81019061069691906115a6565b90506106a28682610c88565b50610717565b63095ea7b360e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161480156106e1575060448383905010155b15610716575f83836024906044926106fb939291906114f8565b81019061070891906115a6565b90506107148682610c88565b505b5b505b5f5f8573ffffffffffffffffffffffffffffffffffffffff1685858560405161074392919061160d565b5f6040518083038185875af1925050503d805f811461077d576040519150601f19603f3d011682016040523d82523d5f602084013e610782565b606091505b50915091508161079457805160208201fd5b505050505050565b5f6107a56105c8565b73ffffffffffffffffffffffffffffffffffffffff166335567e1a305f6040518363ffffffff1660e01b81526004016107df929190611690565b602060405180830381865afa1580156107fa573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061081e91906116cb565b905090565b5f602052805f5260405f205f915090505481565b5f5f60028560405160200161084c9190611716565b6040516020818303038152906040526040516108689190611760565b602060405180830381855afa158015610883573d5f5f3e3d5ffd5b5050506040513d601f19601f820116820180604052508101906108a6919061178a565b90505f8185857f00000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000006040516020016109029594939291906117c4565b60405160208183030381529060405290505f5f61010073ffffffffffffffffffffffffffffffffffffffff168360405161093c9190611760565b5f60405180830381855afa9150503d805f8114610974576040519150601f19603f3d011682016040523d82523d5f602084013e610979565b606091505b509150915081801561098c575060208151145b80156109ab57506001818060200190518101906109a991906116cb565b145b156109bd576001945050505050610a70565b73c2b78104907f722dabac4c69f826a522b2754de473ffffffffffffffffffffffffffffffffffffffff16836040516109f69190611760565b5f60405180830381855afa9150503d805f8114610a2e576040519150601f19603f3d011682016040523d82523d5f602084013e610a33565b606091505b508092508193505050818015610a4a575060208151145b8015610a695750600181806020019051810190610a6791906116cb565b145b9450505050505b9392505050565b610a7f6105c8565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16143330610ab76105c8565b909192610afc576040517ffe34a6d3000000000000000000000000000000000000000000000000000000008152600401610af393929190611815565b60405180910390fd5b505050565b5f604083806101000190610b1591906113f0565b905014610b57576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b4e906112cc565b60405180910390fd5b5f5f84806101000190610b6a91906113f0565b810190610b7791906112ea565b915091505f610b87858484610837565b905080610b95576001610b97565b5f5b60ff16935050505092915050565b50565b5f8114610c19575f3373ffffffffffffffffffffffffffffffffffffffff1682604051610bd49061186d565b5f6040518083038185875af1925050503d805f8114610c0e576040519150601f19603f3d011682016040523d82523d5f602084013e610c13565b606091505b50509050505b50565b610c24610a77565b565b5f5f5f845160208601878987f19050949350505050565b610c4e610c495f610c50565b610dd7565b565b60603d5f831115610c685782811115610c67578290505b5b604051602082018101604052818152815f602083013e8092505050919050565b5f5f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205490505f8103610cd55750610dd3565b5f610cde610ddf565b90505f8360015f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8481526020019081526020015f2054610d3991906118ae565b905082811115610d7e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d759061192b565b60405180910390fd5b8060015f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8481526020019081526020015f20819055505050505b5050565b805160208201fd5b5f6201518042610def9190611976565b905090565b5f5ffd5b5f5ffd5b5f819050919050565b610e0e81610dfc565b8114610e18575f5ffd5b50565b5f81359050610e2981610e05565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f840112610e5057610e4f610e2f565b5b8235905067ffffffffffffffff811115610e6d57610e6c610e33565b5b602083019150836001820283011115610e8957610e88610e37565b5b9250929050565b5f5f5f60408486031215610ea757610ea6610df4565b5b5f610eb486828701610e1b565b935050602084013567ffffffffffffffff811115610ed557610ed4610df8565b5b610ee186828701610e3b565b92509250509250925092565b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b610f2181610eed565b82525050565b5f602082019050610f3a5f830184610f18565b92915050565b5f5ffd5b5f6101208284031215610f5a57610f59610f40565b5b81905092915050565b5f819050919050565b610f7581610f63565b8114610f7f575f5ffd5b50565b5f81359050610f9081610f6c565b92915050565b5f5f5f60608486031215610fad57610fac610df4565b5b5f84013567ffffffffffffffff811115610fca57610fc9610df8565b5b610fd686828701610f44565b9350506020610fe786828701610e1b565b9250506040610ff886828701610f82565b9150509250925092565b61100b81610f63565b82525050565b5f6020820190506110245f830184611002565b92915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6110538261102a565b9050919050565b61106381611049565b811461106d575f5ffd5b50565b5f8135905061107e8161105a565b92915050565b5f5f6040838503121561109a57611099610df4565b5b5f6110a785828601611070565b92505060206110b885828601610f82565b9150509250929050565b5f5f83601f8401126110d7576110d6610e2f565b5b8235905067ffffffffffffffff8111156110f4576110f3610e33565b5b6020830191508360208202830111156111105761110f610e37565b5b9250929050565b5f5f6020838503121561112d5761112c610df4565b5b5f83013567ffffffffffffffff81111561114a57611149610df8565b5b611156858286016110c2565b92509250509250929050565b5f819050919050565b5f61118561118061117b8461102a565b611162565b61102a565b9050919050565b5f6111968261116b565b9050919050565b5f6111a78261118c565b9050919050565b6111b78161119d565b82525050565b5f6020820190506111d05f8301846111ae565b92915050565b5f5f5f5f606085870312156111ee576111ed610df4565b5b5f6111fb87828801611070565b945050602061120c87828801610f82565b935050604085013567ffffffffffffffff81111561122d5761122c610df8565b5b61123987828801610e3b565b925092505092959194509250565b5f6020828403121561125c5761125b610df4565b5b5f61126984828501611070565b91505092915050565b5f82825260208201905092915050565b7f496e76616c6964207369676e6174757265206c656e67746800000000000000005f82015250565b5f6112b6601883611272565b91506112c182611282565b602082019050919050565b5f6020820190508181035f8301526112e3816112aa565b9050919050565b5f5f60408385031215611300576112ff610df4565b5b5f61130d85828601610f82565b925050602061131e85828601610f82565b9150509250929050565b7f4f6e6c792073656c6600000000000000000000000000000000000000000000005f82015250565b5f61135c600983611272565b915061136782611328565b602082019050919050565b5f6020820190508181035f83015261138981611350565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f823560016060038336030381126113e4576113e36113bd565b5b80830191505092915050565b5f5f8335600160200384360303811261140c5761140b6113bd565b5b80840192508235915067ffffffffffffffff82111561142e5761142d6113c1565b5b60208301925060018202360383131561144a576114496113c5565b5b509250929050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61149482611452565b61149e818561145c565b93506114ae81856020860161146c565b6114b78161147a565b840191505092915050565b5f6040820190506114d55f830185611002565b81810360208301526114e7818461148a565b90509392505050565b5f5ffd5b5f5ffd5b5f5f8585111561150b5761150a6114f0565b5b8386111561151c5761151b6114f4565b5b6001850283019150848603905094509492505050565b5f82905092915050565b5f82821b905092915050565b5f6115538383611532565b8261155e8135610eed565b9250600482101561159e576115997fffffffff000000000000000000000000000000000000000000000000000000008360040360080261153c565b831692505b505092915050565b5f602082840312156115bb576115ba610df4565b5b5f6115c884828501610f82565b91505092915050565b5f81905092915050565b828183375f83830152505050565b5f6115f483856115d1565b93506116018385846115db565b82840190509392505050565b5f6116198284866115e9565b91508190509392505050565b61162e81611049565b82525050565b5f819050919050565b5f77ffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61167a61167561167084611634565b611162565b61163d565b9050919050565b61168a81611660565b82525050565b5f6040820190506116a35f830185611625565b6116b06020830184611681565b9392505050565b5f815190506116c581610f6c565b92915050565b5f602082840312156116e0576116df610df4565b5b5f6116ed848285016116b7565b91505092915050565b5f819050919050565b61171061170b82610dfc565b6116f6565b82525050565b5f61172182846116ff565b60208201915081905092915050565b5f61173a82611452565b61174481856115d1565b935061175481856020860161146c565b80840191505092915050565b5f61176b8284611730565b915081905092915050565b5f8151905061178481610e05565b92915050565b5f6020828403121561179f5761179e610df4565b5b5f6117ac84828501611776565b91505092915050565b6117be81610dfc565b82525050565b5f60a0820190506117d75f8301886117b5565b6117e46020830187611002565b6117f16040830186611002565b6117fe6060830185611002565b61180b6080830184611002565b9695505050505050565b5f6060820190506118285f830186611625565b6118356020830185611625565b6118426040830184611625565b949350505050565b50565b5f6118585f836115d1565b91506118638261184a565b5f82019050919050565b5f6118778261184d565b9150819050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f6118b882610f63565b91506118c383610f63565b92508282019050808211156118db576118da611881565b5b92915050565b7f4461696c79206c696d69742065786365656465640000000000000000000000005f82015250565b5f611915601483611272565b9150611920826118e1565b602082019050919050565b5f6020820190508181035f83015261194281611909565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f61198082610f63565b915061198b83610f63565b92508261199b5761199a611949565b5b82820490509291505056fea2646970667358221220eb020184c97dcb1867f28bd90b0e96683b6652c65ed5990d92f402ea3cbaa97964736f6c634300081c0033"
}
