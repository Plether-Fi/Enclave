import Foundation

nonisolated enum Network: String, CaseIterable, Sendable {
    case arbitrumSepolia
    case arbitrumOne

    var chainId: UInt64 {
        switch self {
        case .arbitrumSepolia: 421614
        case .arbitrumOne: 42161
        }
    }

    var rpcURL: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://sepolia-rollup.arbitrum.io/rpc")!
        case .arbitrumOne:
            URL(string: "https://arb1.arbitrum.io/rpc")!
        }
    }

    var bundlerURL: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://public.stackup.sh/api/v1/node/arbitrum-sepolia")!
        case .arbitrumOne:
            URL(string: "https://public.stackup.sh/api/v1/node/arbitrum-one")!
        }
    }

    var blockExplorerAPI: URL {
        switch self {
        case .arbitrumSepolia:
            URL(string: "https://api-sepolia.arbiscan.io/api")!
        case .arbitrumOne:
            URL(string: "https://api.arbiscan.io/api")!
        }
    }

    var usdcAddress: String {
        switch self {
        case .arbitrumSepolia: "0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"
        case .arbitrumOne: "0xaf88d065e77c8cC2239327C5EDb3A432268e5831"
        }
    }

    var displayName: String {
        switch self {
        case .arbitrumSepolia: "Arbitrum Sepolia"
        case .arbitrumOne: "Arbitrum One"
        }
    }
}

nonisolated enum Config {
    static let entryPointAddress = "0x0000000071727De22E5E9d8BAf0edAc6f37da032"

    // Update after deploying EnclaveWalletFactory to Arbitrum Sepolia
    static let factoryAddress = "0x0000000000000000000000000000000000000000"

    // Paymaster URL (set to nil to disable gas sponsorship)
    static var paymasterURL: URL?

    static var activeNetwork: Network = .arbitrumSepolia

    // EnclaveWallet creation bytecode (from `forge inspect EnclaveWallet bytecode`)
    // Used for offline CREATE2 address computation
    // swiftlint:disable:next line_length
    // swiftlint:disable:next line_length
    static let walletCreationCode = "60e060405234801561000f575f5ffd5b506040516119da3803806119da8339818101604052810190610031919061011f565b8273ffffffffffffffffffffffffffffffffffffffff1660808173ffffffffffffffffffffffffffffffffffffffff16815250508160a081815250508060c0818152505050505061016f565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b5f6100bb826100a0565b9050919050565b6100cb816100b1565b81146100d5575f5ffd5b50565b5f815190506100e6816100c2565b92915050565b5f819050919050565b6100fe816100ec565b8114610108575f5ffd5b50565b5f81519050610119816100f5565b92915050565b5f5f5f606084860312156101365761013561007d565b5b5f610143868287016100d8565b93505060206101548682870161010b565b92505060406101658682870161010b565b9150509250925092565b60805160a05160c0516118336101a75f395f81816105a6015261085f01525f8181610562015261083e01525f6105cb01526118335ff3fe60806040526004361061009f575f3560e01c80639061a57f116100635780639061a57f1461019c578063b004eab9146101d8578063b0d691fe14610202578063b61d27f61461022c578063d087d28814610254578063f3f514151461027e576100a6565b80631626ba7e146100aa57806319822f7c146100e65780632803212f1461012257806334fcd5be1461014a5780634edaff4e14610172576100a6565b366100a657005b5f5ffd5b3480156100b5575f5ffd5b506100d060048036038101906100cb9190610d60565b6102ba565b6040516100dd9190610df7565b60405180910390f35b3480156100f1575f5ffd5b5061010c60048036038101906101079190610e66565b61034b565b6040516101199190610ee1565b60405180910390f35b34801561012d575f5ffd5b5061014860048036038101906101439190610f54565b61037d565b005b348015610155575f5ffd5b50610170600480360381019061016b9190610fe7565b610430565b005b34801561017d575f5ffd5b50610186610560565b6040516101939190610ee1565b60405180910390f35b3480156101a7575f5ffd5b506101c260048036038101906101bd9190610f54565b610584565b6040516101cf9190610ee1565b60405180910390f35b3480156101e3575f5ffd5b506101ec6105a4565b6040516101f99190610ee1565b60405180910390f35b34801561020d575f5ffd5b506102166105c8565b604051610223919061108d565b60405180910390f35b348015610237575f5ffd5b50610252600480360381019061024d91906110a6565b6105ef565b005b34801561025f575f5ffd5b5061026861079c565b6040516102759190610ee1565b60405180910390f35b348015610289575f5ffd5b506102a4600480360381019061029f9190611117565b610823565b6040516102b19190610ee1565b60405180910390f35b5f60408383905014610301576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102f89061119c565b60405180910390fd5b5f5f848481019061031291906111ba565b91509150610321868383610837565b1561033757631626ba7e60e01b92505050610344565b63ffffffff60e01b925050505b9392505050565b5f610354610947565b61035e84846109d1565b905061036d8460200135610a75565b61037682610a78565b9392505050565b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146103eb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103e290611242565b60405180910390fd5b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055505050565b610438610aec565b5f8282905090505f5f90505b8181101561055a57368484838181106104605761045f611260565b5b90506020028101906104729190611299565b90505f6104e7825f01602081019061048a9190611117565b836020013584806040019061049f91906112c0565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284375f81840152601f19601f820116905080830192505050505050505a610af6565b90508061054b5760018403610503576104fe610b0d565b61054a565b8261050d5f610b20565b6040517f5a154675000000000000000000000000000000000000000000000000000000008152600401610541929190611392565b60405180910390fd5b5b50508080600101915050610444565b50505050565b7f000000000000000000000000000000000000000000000000000000000000000081565b6001602052815f5260405f20602052805f5260405f205f91509150505481565b7f000000000000000000000000000000000000000000000000000000000000000081565b5f7f0000000000000000000000000000000000000000000000000000000000000000905090565b6105f7610947565b5f83111561060a576106095f84610b58565b5b60048282905010610719575f82825f90600492610629939291906113c8565b906106349190611418565b905063a9059cbb60e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614801561066f575060448383905010155b156106a8575f8383602490604492610689939291906113c8565b8101906106969190611476565b90506106a28682610b58565b50610717565b63095ea7b360e01b817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161480156106e1575060448383905010155b15610716575f83836024906044926106fb939291906113c8565b8101906107089190611476565b90506107148682610b58565b505b5b505b5f5f8573ffffffffffffffffffffffffffffffffffffffff168585856040516107439291906114dd565b5f6040518083038185875af1925050503d805f811461077d576040519150601f19603f3d011682016040523d82523d5f602084013e610782565b606091505b50915091508161079457805160208201fd5b505050505050565b5f6107a56105c8565b73ffffffffffffffffffffffffffffffffffffffff166335567e1a305f6040518363ffffffff1660e01b81526004016107df929190611560565b602060405180830381865afa1580156107fa573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061081e919061159b565b905090565b5f602052805f5260405f205f915090505481565b5f5f8484847f00000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000006040516020016108929594939291906115d5565b60405160208183030381529060405290505f5f61010073ffffffffffffffffffffffffffffffffffffffff16836040516108cc9190611656565b5f60405180830381855afa9150503d805f8114610904576040519150601f19603f3d011682016040523d82523d5f602084013e610909565b606091505b509150915081801561091c575060208151145b801561093b5750600181806020019051810190610939919061159b565b145b93505050509392505050565b61094f6105c8565b73ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161433306109876105c8565b9091926109cc576040517ffe34a6d30000000000000000000000000000000000000000000000000000000081526004016109c39392919061166c565b60405180910390fd5b505050565b5f6040838061010001906109e591906112c0565b905014610a27576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a1e9061119c565b60405180910390fd5b5f5f84806101000190610a3a91906112c0565b810190610a4791906111ba565b915091505f610a57858484610837565b905080610a65576001610a67565b5f5b60ff16935050505092915050565b50565b5f8114610ae9575f3373ffffffffffffffffffffffffffffffffffffffff1682604051610aa4906116c4565b5f6040518083038185875af1925050503d805f8114610ade576040519150601f19603f3d011682016040523d82523d5f602084013e610ae3565b606091505b50509050505b50565b610af4610947565b565b5f5f5f845160208601878987f19050949350505050565b610b1e610b195f610b20565b610ca7565b565b60603d5f831115610b385782811115610b37578290505b5b604051602082018101604052818152815f602083013e8092505050919050565b5f5f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205490505f8103610ba55750610ca3565b5f610bae610caf565b90505f8360015f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8481526020019081526020015f2054610c099190611705565b905082811115610c4e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c4590611782565b60405180910390fd5b8060015f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8481526020019081526020015f20819055505050505b5050565b805160208201fd5b5f6201518042610cbf91906117cd565b905090565b5f5ffd5b5f5ffd5b5f819050919050565b610cde81610ccc565b8114610ce8575f5ffd5b50565b5f81359050610cf981610cd5565b92915050565b5f5ffd5b5f5ffd5b5f5ffd5b5f5f83601f840112610d2057610d1f610cff565b5b8235905067ffffffffffffffff811115610d3d57610d3c610d03565b5b602083019150836001820283011115610d5957610d58610d07565b5b9250929050565b5f5f5f60408486031215610d7757610d76610cc4565b5b5f610d8486828701610ceb565b935050602084013567ffffffffffffffff811115610da557610da4610cc8565b5b610db186828701610d0b565b92509250509250925092565b5f7fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b610df181610dbd565b82525050565b5f602082019050610e0a5f830184610de8565b92915050565b5f5ffd5b5f6101208284031215610e2a57610e29610e10565b5b81905092915050565b5f819050919050565b610e4581610e33565b8114610e4f575f5ffd5b50565b5f81359050610e6081610e3c565b92915050565b5f5f5f60608486031215610e7d57610e7c610cc4565b5b5f84013567ffffffffffffffff811115610e9a57610e99610cc8565b5b610ea686828701610e14565b9350506020610eb786828701610ceb565b9250506040610ec886828701610e52565b9150509250925092565b610edb81610e33565b82525050565b5f602082019050610ef45f830184610ed2565b92915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610f2382610efa565b9050919050565b610f3381610f19565b8114610f3d575f5ffd5b50565b5f81359050610f4e81610f2a565b92915050565b5f5f60408385031215610f6a57610f69610cc4565b5b5f610f7785828601610f40565b9250506020610f8885828601610e52565b9150509250929050565b5f5f83601f840112610fa757610fa6610cff565b5b8235905067ffffffffffffffff811115610fc457610fc3610d03565b5b602083019150836020820283011115610fe057610fdf610d07565b5b9250929050565b5f5f60208385031215610ffd57610ffc610cc4565b5b5f83013567ffffffffffffffff81111561101a57611019610cc8565b5b61102685828601610f92565b92509250509250929050565b5f819050919050565b5f61105561105061104b84610efa565b611032565b610efa565b9050919050565b5f6110668261103b565b9050919050565b5f6110778261105c565b9050919050565b6110878161106d565b82525050565b5f6020820190506110a05f83018461107e565b92915050565b5f5f5f5f606085870312156110be576110bd610cc4565b5b5f6110cb87828801610f40565b94505060206110dc87828801610e52565b935050604085013567ffffffffffffffff8111156110fd576110fc610cc8565b5b61110987828801610d0b565b925092505092959194509250565b5f6020828403121561112c5761112b610cc4565b5b5f61113984828501610f40565b91505092915050565b5f82825260208201905092915050565b7f496e76616c6964207369676e6174757265206c656e67746800000000000000005f82015250565b5f611186601883611142565b915061119182611152565b602082019050919050565b5f6020820190508181035f8301526111b38161117a565b9050919050565b5f5f604083850312156111d0576111cf610cc4565b5b5f6111dd85828601610e52565b92505060206111ee85828601610e52565b9150509250929050565b7f4f6e6c792073656c6600000000000000000000000000000000000000000000005f82015250565b5f61122c600983611142565b9150611237826111f8565b602082019050919050565b5f6020820190508181035f83015261125981611220565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f823560016060038336030381126112b4576112b361128d565b5b80830191505092915050565b5f5f833560016020038436030381126112dc576112db61128d565b5b80840192508235915067ffffffffffffffff8211156112fe576112fd611291565b5b60208301925060018202360383131561131a57611319611295565b5b509250929050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61136482611322565b61136e818561132c565b935061137e81856020860161133c565b6113878161134a565b840191505092915050565b5f6040820190506113a55f830185610ed2565b81810360208301526113b7818461135a565b90509392505050565b5f5ffd5b5f5ffd5b5f5f858511156113db576113da6113c0565b5b838611156113ec576113eb6113c4565b5b6001850283019150848603905094509492505050565b5f82905092915050565b5f82821b905092915050565b5f6114238383611402565b8261142e8135610dbd565b9250600482101561146e576114697fffffffff000000000000000000000000000000000000000000000000000000008360040360080261140c565b831692505b505092915050565b5f6020828403121561148b5761148a610cc4565b5b5f61149884828501610e52565b91505092915050565b5f81905092915050565b828183375f83830152505050565b5f6114c483856114a1565b93506114d18385846114ab565b82840190509392505050565b5f6114e98284866114b9565b91508190509392505050565b6114fe81610f19565b82525050565b5f819050919050565b5f77ffffffffffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61154a61154561154084611504565b611032565b61150d565b9050919050565b61155a81611530565b82525050565b5f6040820190506115735f8301856114f5565b6115806020830184611551565b9392505050565b5f8151905061159581610e3c565b92915050565b5f602082840312156115b0576115af610cc4565b5b5f6115bd84828501611587565b91505092915050565b6115cf81610ccc565b82525050565b5f60a0820190506115e85f8301886115c6565b6115f56020830187610ed2565b6116026040830186610ed2565b61160f6060830185610ed2565b61161c6080830184610ed2565b9695505050505050565b5f61163082611322565b61163a81856114a1565b935061164a81856020860161133c565b80840191505092915050565b5f6116618284611626565b915081905092915050565b5f60608201905061167f5f8301866114f5565b61168c60208301856114f5565b61169960408301846114f5565b949350505050565b50565b5f6116af5f836114a1565b91506116ba826116a1565b5f82019050919050565b5f6116ce826116a4565b9150819050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f61170f82610e33565b915061171a83610e33565b9250828201905080821115611732576117316116d8565b5b92915050565b7f4461696c79206c696d69742065786365656465640000000000000000000000005f82015250565b5f61176c601483611142565b915061177782611738565b602082019050919050565b5f6020820190508181035f83015261179981611760565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601260045260245ffd5b5f6117d782610e33565b91506117e283610e33565b9250826117f2576117f16117a0565b5b82820490509291505056fea2646970667358221220cad9f74835d8fa5771293a6f99b7c4a1b3e6796d71786c757ba4193878696b7064736f6c634300081c0033"
}
